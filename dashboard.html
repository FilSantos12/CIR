<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Imposto de Renda</title>

    <!-- Link do CSS do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Link do Bootstrap Icons (para o ícone de engrenagem) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Link CSS (para seu estilo personalizado) -->
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #ece072;">
        <div class="container-fluid">
            <!-- Nome do Sistema -->
            <a class="navbar-brand" href="#">Controle Imposto de Renda</a>

            <!-- Botão para navegação responsiva -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Conteúdo da barra -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav me-auto"></ul>

                <!-- Nome do usuário logado -->
                <div class="d-flex align-items-center">
                    <span class="navbar-text text-dark me-2">
                        Usuário: <strong>nome_do_usuario</strong>
                    </span>

                    <!-- Engrenagem com dropdown -->
                    <div class="dropdown">
                        <button class="btn btn-dark dropdown-toggle" type="button" id="settingsDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-gear-fill"></i> <!-- Ícone de engrenagem -->
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="settingsDropdown">
                            <li class="dropdown-item-text">Logout</li>
                            <li>
                                <button class="btn btn-danger btn-sm w-100">Sair</button>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container my-5">
        <h1 class="text-center mb-4">Dashboard do Cliente</h1>
    
        <!-- Informações do Cliente -->
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Informações do Cliente</h5>
                <p id="infoCliente" class="mb-0">Carregando informações...</p>
            </div>
        </div>

        <!-- Checklist de Progresso -->
        <h3>Checklist de Progresso</h3>
        <div class="progress mb-3">
            <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
        </div>

            <ul class="list-group">
                <li class="list-group-item">
                    <!-- Label associado ao checkbox -->
                    <input type="checkbox" id="checkpoint1" onchange="updateProgress()" title="Marque este ponto de verificação"> 
                    <label for="checkpoint1">Checkpoint 1</label>
                </li>
                <li class="list-group-item">
                    <input type="checkbox" id="checkpoint2" onchange="updateProgress()" title="Marque este ponto de verificação">
                    <label for="checkpoint2">Checkpoint 2</label>
                </li>
                <li class="list-group-item">
                    <input type="checkbox" id="checkpoint3" onchange="updateProgress()" title="Marque este ponto de verificação">
                    <label for="checkpoint3">Checkpoint 3</label>
                </li>
                <li class="list-group-item">
                    <input type="checkbox" id="checkpoint4" onchange="updateProgress()" title="Marque este ponto de verificação">
                    <label for="checkpoint4">Checkpoint 4</label>
                </li>
                <li class="list-group-item">
                    <input type="checkbox" id="checkpoint5" onchange="updateProgress()" title="Marque este ponto de verificação">
                <label for="checkpoint5">Checkpoint 5</label>
                </li>
            </ul>
        </div>            

    <script>
        function updateProgress() {
            var checkpoints = document.querySelectorAll('input[type="checkbox"]');
            var completed = 0;

            checkpoints.forEach(function (checkpoint) {
                if (checkpoint.checked) {
                    completed++;
                }
            });

            var progress = (completed / checkpoints.length) * 100;
            var progressBar = document.getElementById('progress-bar');
            progressBar.style.width = progress + '%';
            progressBar.setAttribute('aria-valuenow', progress);
            progressBar.textContent = Math.round(progress) + '%';

            // Alterando a cor da barra de progresso com base no valor
                if (progress <= 30) {
                    // Progresso menor ou igual a 30% - estado crítico (vermelho)
                    progressBar.classList.remove('bg-warning', 'bg-success', 'bg-info');
                    progressBar.classList.add('bg-danger');
                } else if (progress <= 60) {
                    // Progresso entre 31% e 60% - estado de aviso (amarelo)
                    progressBar.classList.remove('bg-danger', 'bg-success', 'bg-info');
                    progressBar.classList.add('bg-warning');
                } else if (progress <= 90) {
                    // Progresso entre 61% e 90% - estado intermediário (azul)
                    progressBar.classList.remove('bg-danger', 'bg-warning', 'bg-success');
                    progressBar.classList.add('bg-info');
                } else {
                    // Progresso acima de 90% - estado de sucesso (verde)
                    progressBar.classList.remove('bg-danger', 'bg-warning', 'bg-info');
                    progressBar.classList.add('bg-success');
                }
        }
    </script>
</body>
</html>
